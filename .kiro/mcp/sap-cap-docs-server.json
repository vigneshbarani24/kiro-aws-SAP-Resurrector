{
  "name": "sap-cap-docs",
  "version": "1.0.0",
  "description": "MCP server providing SAP CAP and BTP documentation for Kiro",
  "mcpVersion": "1.0",
  "capabilities": {
    "resources": [
      {
        "uri": "sap://cap/documentation",
        "name": "SAP Cloud Application Programming Model (CAP) Documentation",
        "description": "Complete CAP documentation including CDS, service handlers, deployment",
        "mimeType": "text/markdown"
      },
      {
        "uri": "sap://btp/documentation",
        "name": "SAP Business Technology Platform (BTP) Documentation",
        "description": "BTP deployment, services, and cloud integration documentation",
        "mimeType": "text/markdown"
      },
      {
        "uri": "sap://cds/syntax",
        "name": "CDS (Core Data Services) Syntax Reference",
        "description": "Complete CDS syntax for data modeling, associations, and compositions",
        "mimeType": "text/markdown"
      },
      {
        "uri": "sap://odata/v4",
        "name": "OData V4 API Documentation",
        "description": "OData V4 protocol and SAP CAP auto-generation patterns",
        "mimeType": "text/markdown"
      },
      {
        "uri": "sap://hana/cloud",
        "name": "SAP HANA Cloud Documentation",
        "description": "SAP HANA Cloud database features, CDS deployment, and optimization",
        "mimeType": "text/markdown"
      }
    ],
    "tools": [
      {
        "name": "lookup_cap_pattern",
        "description": "Look up SAP CAP patterns and best practices",
        "inputSchema": {
          "type": "object",
          "properties": {
            "pattern": {
              "type": "string",
              "description": "Pattern to look up (e.g., 'custom actions', 'event handlers', 'authorization')"
            },
            "context": {
              "type": "string",
              "description": "Additional context (e.g., 'Node.js', 'Java', 'Fiori')"
            }
          },
          "required": ["pattern"]
        }
      },
      {
        "name": "convert_abap_to_cds",
        "description": "Convert ABAP data structures to CDS entity definitions",
        "inputSchema": {
          "type": "object",
          "properties": {
            "abapTable": {
              "type": "string",
              "description": "ABAP table name (e.g., 'VBAK', 'KNA1')"
            },
            "fields": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {"type": "string"},
                  "type": {"type": "string"},
                  "length": {"type": "number"}
                }
              },
              "description": "ABAP field definitions"
            }
          },
          "required": ["abapTable"]
        }
      },
      {
        "name": "generate_odata_query",
        "description": "Generate OData V4 query from ABAP SELECT statement",
        "inputSchema": {
          "type": "object",
          "properties": {
            "abapSelect": {
              "type": "string",
              "description": "ABAP SELECT statement to convert"
            }
          },
          "required": ["abapSelect"]
        }
      },
      {
        "name": "get_btp_deployment_config",
        "description": "Generate SAP BTP deployment configuration (mta.yaml)",
        "inputSchema": {
          "type": "object",
          "properties": {
            "appName": {
              "type": "string",
              "description": "Application name"
            },
            "modules": {
              "type": "array",
              "items": {"type": "string"},
              "description": "CAP modules to deploy (e.g., ['srv', 'db', 'app'])"
            },
            "database": {
              "type": "string",
              "enum": ["hana", "postgres", "sqlite"],
              "default": "hana",
              "description": "Database type for BTP"
            }
          },
          "required": ["appName", "modules"]
        }
      }
    ]
  },
  "transport": {
    "type": "http",
    "baseUrl": "https://cap.cloud.sap/docs"
  },
  "kiro_integration": {
    "purpose": "Provides Kiro with official SAP CAP/BTP documentation and conversion tools",
    "hero_story": "Combined with custom ABAP analyzer, this gives Kiro complete SAP modernization knowledge - from legacy ABAP to modern CAP/BTP",
    "usage_examples": [
      "Kiro looks up CAP service handler patterns",
      "Kiro converts ABAP table structures to CDS entities",
      "Kiro generates OData queries from ABAP SELECT statements",
      "Kiro creates BTP deployment configurations",
      "Kiro references official SAP documentation for best practices"
    ],
    "combined_with": ".kiro/mcp/abap-analyzer.py"
  }
}
